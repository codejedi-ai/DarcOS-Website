"use strict";(self.webpackChunkdarcos_website=self.webpackChunkdarcos_website||[]).push([[34],{2354:function(e,t,n){n.r(t),n.d(t,{default:function(){return r}});var o=n(8188);function r(e,t){if(t.setHeader("Access-Control-Allow-Origin","*"),t.setHeader("Access-Control-Allow-Methods","GET, POST, OPTIONS"),t.setHeader("Access-Control-Allow-Headers","Content-Type, Accept"),"OPTIONS"===e.method){t.status(200).end();return}try{if("GET"===e.method){var n=e.headers.accept||e.headers.Accept||"application/json",r=e.query.format||e.query.f||"json",a={message:"Hello from ICE.js API!",method:"GET",timestamp:new Date().toISOString(),data:{text:"hello world response"}};!function(e,t,n,r){var a,c,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:200;e.status(s),"xml"===n||r.includes("application/xml")||r.includes("text/xml")?(e.setHeader("Content-Type","application/xml"),e.send(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"response",n='<?xml version="1.0" encoding="UTF-8"?>\n<'.concat(t,">");return n+=function e(t,n){var r="",a=!0,c=!1,s=void 0;try{for(var l,i=Object.entries(t)[Symbol.iterator]();!(a=(l=i.next()).done);a=!0){var d=(0,o._)(l.value,2),u=d[0],p=d[1],h=n?"".concat(n,"_").concat(u):u;"object"!=typeof p||null===p||Array.isArray(p)?Array.isArray(p)?(r+="<".concat(h,">"),p.forEach(function(t,n){r+="<item_".concat(n,">").concat(e(t),"</item_").concat(n,">")}),r+="</".concat(h,">")):r+="<".concat(h,">").concat(p,"</").concat(h,">"):r+="<".concat(h,">").concat(e(p),"</").concat(h,">")}}catch(e){c=!0,s=e}finally{try{a||null==i.return||i.return()}finally{if(c)throw s}}return r}(e)+"</".concat(t,">")}(t))):"text"===n||r.includes("text/plain")?(e.setHeader("Content-Type","text/plain"),e.send(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r="",a=!0,c=!1,s=void 0;try{for(var l,i=Object.entries(t)[Symbol.iterator]();!(a=(l=i.next()).done);a=!0){var d=(0,o._)(l.value,2),u=d[0],p=d[1];"object"==typeof p&&null!==p?r+="".concat(n).concat(u,":\n")+e(p,n+"  "):r+="".concat(n).concat(u,": ").concat(p,"\n")}}catch(e){c=!0,s=e}finally{try{a||null==i.return||i.return()}finally{if(c)throw s}}return r}(t))):"html"===n||r.includes("text/html")?(e.setHeader("Content-Type","text/html"),e.send("<!DOCTYPE html><html><head><title>API Response</title></head><body><h1>API Response</h1><pre>"+JSON.stringify(t,null,2)+"</pre></body></html>")):"csv"===n||r.includes("text/csv")?(e.setHeader("Content-Type","text/csv"),e.send((a=Object.keys(t),c=Object.values(t),a.join(",")+"\n"+c.join(",")))):(e.setHeader("Content-Type","application/json"),e.json(t))}(t,a,r,n)}else"POST"===e.method?(t.setHeader("Content-Type","application/json"),t.status(200).json({message:"Hello from ICE.js API!",method:"POST",timestamp:new Date().toISOString(),data:{text:"hello world response",receivedData:e.body}})):t.status(405).json({error:"Method not allowed",allowedMethods:["GET","POST"]})}catch(e){t.status(500).json({error:"Internal server error",message:e instanceof Error?e.message:"Unknown error"})}}}}]);